# Starship Prompt Configuration
# Theme: Cyberpunk Tokyo Night — neon pills on dark backgrounds
# Font: JetBrainsMono Nerd Font
# Docs: https://starship.rs/config/

# ============================================================================
# Layout
# ============================================================================

format = """
[](storm)\
$username\
$hostname\
$directory\
[](fg:storm)\
[ ]()\
[](storm)\
$git_branch\
$git_status\
$git_state\
[](fg:storm)\
[ ]()\
$python\
$nodejs\
$rust\
$golang\
$terraform\
$docker_context\
$kubernetes\
$line_break\
$character"""

right_format = """
$cmd_duration\
$time"""

# Timeout for commands (ms)
command_timeout = 1000

# Newline between prompts
add_newline = true

# Named palette
palette = "tokyo-night"

# ============================================================================
# Color Palette
# ============================================================================

[palettes.tokyo-night]
night = "#1a1b26"
storm = "#24283b"
fg = "#c0caf5"
comment = "#565f89"
selection = "#33467c"
red = "#f7768e"
orange = "#ff9e64"
yellow = "#e0af68"
green = "#9ece6a"
teal = "#73daca"
blue = "#7aa2f7"
cyan = "#7dcfff"
magenta = "#bb9af7"

# ============================================================================
# Prompt Character
# ============================================================================

[character]
success_symbol = "[❯](bold blue)"
error_symbol = "[❯](bold red)"
vimcmd_symbol = "[❮](bold magenta)"

# ============================================================================
# Directory
# ============================================================================

[directory]
format = "[ $path$read_only ]($style)"
style = "blue bg:storm"
truncation_length = 3
truncate_to_repo = true
read_only = " 󰌾"
read_only_style = "red bg:storm"

# ============================================================================
# Git
# ============================================================================

[git_branch]
format = "[  $branch(:$remote_branch) ]($style)"
style = "magenta bg:storm"

[git_status]
format = "([\\[$all_status$ahead_behind\\] ]($style))"
style = "yellow bg:storm"
conflicted = "="
ahead = "⇡${count}"
behind = "⇣${count}"
diverged = "⇕⇡${ahead_count}⇣${behind_count}"
untracked = "?"
stashed = "$"
modified = "!"
staged = "+"
renamed = "»"
deleted = "✘"

[git_state]
style = "yellow bg:storm"

# ============================================================================
# Languages & Tools
# ============================================================================

[python]
format = "[](storm)[ $symbol$version( \\($virtualenv\\)) ](yellow bg:storm)[](fg:storm) "
symbol = " "
style = "yellow bg:storm"

[nodejs]
format = "[](storm)[  $version ](green bg:storm)[](fg:storm) "
symbol = " "
style = "green bg:storm"

[rust]
format = "[](storm)[ $symbol$version ](red bg:storm)[](fg:storm) "
symbol = " "
style = "red bg:storm"

[golang]
format = "[](storm)[ $symbol$version ](teal bg:storm)[](fg:storm) "
symbol = " "
style = "teal bg:storm"

[terraform]
format = "[](storm)[ 󱁢 $version ](magenta bg:storm)[](fg:storm) "
symbol = "󱁢 "
style = "magenta bg:storm"

[docker_context]
format = "[](storm)[  $context ](cyan bg:storm)[](fg:storm) "
symbol = " "
style = "cyan bg:storm"
only_with_files = true

[kubernetes]
format = "[](storm)[ ☸ $context( \\($namespace\\)) ](blue bg:storm)[](fg:storm) "
symbol = "☸ "
style = "blue bg:storm"
disabled = false
detect_files = ['k8s']
detect_folders = ['.kube']

# ============================================================================
# System Info
# ============================================================================

[username]
format = "[ $user]($style)"
style_user = "green bg:storm"
style_root = "red bg:storm"
show_always = false

[hostname]
format = "[@$ssh_symbol$hostname ](green bg:storm)"
style = "green bg:storm"
ssh_only = true
ssh_symbol = " "

# ============================================================================
# Right Prompt
# ============================================================================

[cmd_duration]
format = "[ $duration ](comment)"
min_time = 2_000
style = "comment"

[time]
format = "[  $time ](comment)"
disabled = false
time_format = "%H:%M"
style = "comment"
