#!/usr/bin/env bash
# Install Powerlevel10k theme

set -e

P10K_DIR="$HOME/.powerlevel10k"

echo "==================================="
echo "Powerlevel10k Configuration Helper"
echo "==================================="
echo ""

# Check if already installed
if [[ -d "$P10K_DIR" ]]; then
  echo "✓ Powerlevel10k already installed at $P10K_DIR"
  echo ""
  read -p "Update to latest version? [y/N] " response
  if [[ "$response" =~ ^[Yy]$ ]]; then
    echo "Updating Powerlevel10k..."
    cd "$P10K_DIR" && git pull
    echo ""
    echo "✓ Updated successfully!"
  fi
  exit 0
fi

# Install Powerlevel10k
echo "Installing Powerlevel10k to $P10K_DIR..."
echo ""

git clone --depth=1 https://github.com/romkatv/powerlevel10k.git "$P10K_DIR"

echo ""
echo "✓ Powerlevel10k installed successfully!"
echo ""
echo "Next steps:"
echo "  - Restart your shell or run: source ~/.zshrc"
echo "  - Run 'p10k configure' to set up your prompt style"
echo "  - Install a Nerd Font for best results:"
echo "    https://github.com/romkatv/powerlevel10k#fonts"
